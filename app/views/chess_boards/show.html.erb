<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>ChessBoard</title>



  </head>
  <body>
    <br><br><br>
    
    <div class="chessboard">

        <% (0..7).each do |row| %>
          <div id="row">
        <% (0..7).each do |column| %>
           <% if (row % 2 == 0) %>
             <% if (column % 2 == 0) %>

                <div class="white">
                <% @pieces.each do |piece| %>
                  <% if piece.x_position == column && piece.y_position == row %>
                    <div class="piece" display-piece-id="<%piece.id%>">
                      <%= piece.unicode_symbol.html_safe %>
                    </div>
                  <% end %>  
                <% end %>  
                </div>

             <% else %>

                <div class="black">
                <% @pieces.each do |piece| %>
                  <% if piece.x_position == column && piece.y_position == row %>
                    <div class="piece" display-piece-id="<%piece.id%>">
                      <%= piece.unicode_symbol.html_safe %>
                    </div>
                  <% end %>  
                <% end %>  
                </div>
                <% end %>

              <% else %>

             <% if (column % 2 == 1) %>
                
                <div class="white">
                <% @pieces.each do |piece| %>
                  <% if piece.x_position == column && piece.y_position == row %>
                  <div class="piece" display-piece-id="<%piece.id%>">
                    <%= piece.unicode_symbol.html_safe %>
                  </div>
                  <% end %>  
                <% end %>  
                </div>

              <% else %>
                
                <div class="black">
                <% @pieces.each do |piece| %>
                  <% if piece.x_position == column && piece.y_position == row %>
                  <div class="piece" display-piece-id="<%piece.id%>">
                    <%= piece.unicode_symbol.html_safe %>
                  </div>
                <% end %>  
              <% end %>  
               </div>
             <% end %>
           <% end %>
         <% end %>
        </div>
      <% end %>

    </div>

     <br><br><br>
  </body>
</html>

